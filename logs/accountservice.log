2025-08-15 00:00:06.773 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:00:06.773 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:00:36.777 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:00:36.778 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:01:06.788 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:01:06.788 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:01:36.801 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:01:36.801 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:02:06.805 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:02:06.805 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:02:36.818 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:02:36.818 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:03:06.828 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:03:06.828 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:03:19.564 [http-nio-8081-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /verify-otp
2025-08-15 00:03:19.564 [http-nio-8081-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /verify-otp
2025-08-15 00:03:19.564 [http-nio-8081-exec-6] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/verify-otp
2025-08-15 00:03:19.565 [http-nio-8081-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/verify-otp", parameters={}
2025-08-15 00:03:19.565 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AccountController#verifyOtp(OtpRequest)
2025-08-15 00:03:19.566 [http-nio-8081-exec-6] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:19.567 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [OtpRequest(email=cangngoo123@gmail.com, otp=8649, type=REGISTER)]
2025-08-15 00:03:19.567 [http-nio-8081-exec-6] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-08-15 00:03:19.567 [http-nio-8081-exec-6] DEBUG io.lettuce.core.RedisChannelHandler - dispatching command AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:19.567 [http-nio-8081-exec-6] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() writeAndFlush command AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:19.567 [http-nio-8081-exec-6] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() done
2025-08-15 00:03:19.568 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] write(ctx, AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command], promise)
2025-08-15 00:03:19.568 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandEncoder - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379] writing command AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:19.569 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Received: 3 bytes, 1 commands in the stack
2025-08-15 00:03:19.569 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Stack contains: 1 commands
2025-08-15 00:03:19.569 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.RedisStateMachine - Decode done, empty stack: true
2025-08-15 00:03:19.569 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Completing command AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:19.569 [http-nio-8081-exec-6] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-08-15 00:03:19.569 [http-nio-8081-exec-6] WARN  c.f.a.services.impl.OtpServiceImpl - OTP không tồn tại hoặc đã hết hạn cho email: cangngoo123@gmail.com
2025-08-15 00:03:19.570 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.fsocial.accountservice.exception.GlobalExceptionHandler#handleAppException(AppException)
2025-08-15 00:03:19.570 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:03:19.570 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(statusCode=463, message=Mã OTP không hợp lệ., dateTime=2025-08-15T00:03:19.570322900, da (truncated)...]
2025-08-15 00:03:19.571 [http-nio-8081-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.fsocial.accountservice.exception.AppException: Mã OTP không hợp lệ.]
2025-08-15 00:03:19.571 [http-nio-8081-exec-6] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:19.571 [http-nio-8081-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-08-15 00:03:19.571 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:03:20.995 [http-nio-8081-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /check-duplication
2025-08-15 00:03:20.995 [http-nio-8081-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /check-duplication
2025-08-15 00:03:20.995 [http-nio-8081-exec-7] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/check-duplication
2025-08-15 00:03:20.995 [http-nio-8081-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/check-duplication", parameters={}
2025-08-15 00:03:20.996 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AccountController#checkDuplication(DuplicationRequest)
2025-08-15 00:03:20.997 [http-nio-8081-exec-7] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:20.998 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [DuplicationRequest(username=CangNgo123, email=cangngoo123@gmail.com)]
2025-08-15 00:03:21.021 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:03:21.021 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(1))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:03:21.023 [http-nio-8081-exec-7] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@37be747f
2025-08-15 00:03:21.023 [http-nio-8081-exec-7] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(1).username) 
2025-08-15 00:03:21.025 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-BasicResult

2025-08-15 00:03:21.026 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(1)) {
          primaryTableReference : account as a1_0
        }
      }
    }

2025-08-15 00:03:21.028 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:03:21.029 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        account a1_0 
    where
        a1_0.username=?
2025-08-15 00:03:21.039 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results - Initializer list is empty
2025-08-15 00:03:21.042 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:03:21.042 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(2))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:03:21.043 [http-nio-8081-exec-7] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@26985faf
2025-08-15 00:03:21.043 [http-nio-8081-exec-7] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(2).email) 
2025-08-15 00:03:21.043 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-BasicResult

2025-08-15 00:03:21.043 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(2)) {
          primaryTableReference : account as a1_0
        }
      }
    }

2025-08-15 00:03:21.043 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:03:21.043 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(a1_0.id) 
    from
        account a1_0 
    where
        a1_0.email=?
2025-08-15 00:03:21.046 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results - Initializer list is empty
2025-08-15 00:03:21.048 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:03:21.048 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thông tin hợp lệ., dateTime=null, data=null)]
2025-08-15 00:03:21.049 [http-nio-8081-exec-7] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:21.049 [http-nio-8081-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:03:21.049 [http-nio-8081-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:03:21.080 [http-nio-8081-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /send-otp
2025-08-15 00:03:21.081 [http-nio-8081-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /send-otp
2025-08-15 00:03:21.081 [http-nio-8081-exec-8] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/send-otp
2025-08-15 00:03:21.081 [http-nio-8081-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/send-otp", parameters={}
2025-08-15 00:03:21.081 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AccountController#sendOtp(EmailRequest)
2025-08-15 00:03:21.081 [http-nio-8081-exec-8] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:21.082 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [EmailRequest(email=cangngoo123@gmail.com, type=REGISTER)]
2025-08-15 00:03:21.083 [http-nio-8081-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-08-15 00:03:21.083 [http-nio-8081-exec-8] DEBUG io.lettuce.core.RedisChannelHandler - dispatching command AsyncCommand [type=SET, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:21.083 [http-nio-8081-exec-8] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() writeAndFlush command AsyncCommand [type=SET, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:21.084 [http-nio-8081-exec-8] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() done
2025-08-15 00:03:21.084 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] write(ctx, AsyncCommand [type=SET, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command], promise)
2025-08-15 00:03:21.084 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandEncoder - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379] writing command AsyncCommand [type=SET, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:21.087 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Received: 5 bytes, 1 commands in the stack
2025-08-15 00:03:21.087 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Stack contains: 1 commands
2025-08-15 00:03:21.088 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.RedisStateMachine - Decode done, empty stack: true
2025-08-15 00:03:21.088 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Completing command AsyncCommand [type=SET, output=StatusOutput [output=OK, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:21.088 [http-nio-8081-exec-8] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-08-15 00:03:26.155 [http-nio-8081-exec-8] INFO  c.f.a.services.impl.OtpServiceImpl - OTP: 4076
2025-08-15 00:03:26.157 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:03:26.157 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=OTP đã được gửi tới email của bạn., dateTime=2025-08-15T00:03:26 (truncated)...]
2025-08-15 00:03:26.158 [http-nio-8081-exec-8] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:26.158 [http-nio-8081-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:03:26.158 [http-nio-8081-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:03:36.841 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:03:36.841 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:03:41.867 [http-nio-8081-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /verify-otp
2025-08-15 00:03:41.867 [http-nio-8081-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /verify-otp
2025-08-15 00:03:41.867 [http-nio-8081-exec-9] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/verify-otp
2025-08-15 00:03:41.867 [http-nio-8081-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/verify-otp", parameters={}
2025-08-15 00:03:41.868 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AccountController#verifyOtp(OtpRequest)
2025-08-15 00:03:41.868 [http-nio-8081-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:41.870 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [OtpRequest(email=cangngoo123@gmail.com, otp=4076, type=REGISTER)]
2025-08-15 00:03:41.870 [http-nio-8081-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-08-15 00:03:41.870 [http-nio-8081-exec-9] DEBUG io.lettuce.core.RedisChannelHandler - dispatching command AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:41.871 [http-nio-8081-exec-9] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() writeAndFlush command AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:41.871 [http-nio-8081-exec-9] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() done
2025-08-15 00:03:41.871 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] write(ctx, AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command], promise)
2025-08-15 00:03:41.871 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandEncoder - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379] writing command AsyncCommand [type=GET, output=ValueOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:41.874 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Received: 10 bytes, 1 commands in the stack
2025-08-15 00:03:41.874 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Stack contains: 1 commands
2025-08-15 00:03:41.874 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.RedisStateMachine - Decode done, empty stack: true
2025-08-15 00:03:41.874 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Completing command AsyncCommand [type=GET, output=ValueOutput [output=[B@11a3a90d, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:41.874 [http-nio-8081-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-08-15 00:03:41.874 [http-nio-8081-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-08-15 00:03:41.874 [http-nio-8081-exec-9] DEBUG io.lettuce.core.RedisChannelHandler - dispatching command AsyncCommand [type=SET, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:41.874 [http-nio-8081-exec-9] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() writeAndFlush command AsyncCommand [type=SET, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:41.874 [http-nio-8081-exec-9] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() done
2025-08-15 00:03:41.874 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] write(ctx, AsyncCommand [type=SET, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command], promise)
2025-08-15 00:03:41.874 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandEncoder - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379] writing command AsyncCommand [type=SET, output=StatusOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:41.876 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Received: 5 bytes, 1 commands in the stack
2025-08-15 00:03:41.876 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Stack contains: 1 commands
2025-08-15 00:03:41.876 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.RedisStateMachine - Decode done, empty stack: true
2025-08-15 00:03:41.876 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Completing command AsyncCommand [type=SET, output=StatusOutput [output=OK, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:41.876 [http-nio-8081-exec-9] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-08-15 00:03:41.877 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:03:41.877 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=OTP là hợp lệ., dateTime=2025-08-15T00:03:41.876955200, data=nul (truncated)...]
2025-08-15 00:03:41.878 [http-nio-8081-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:41.878 [http-nio-8081-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:03:41.878 [http-nio-8081-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:03:41.893 [http-nio-8081-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /register
2025-08-15 00:03:41.894 [http-nio-8081-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /register
2025-08-15 00:03:41.894 [http-nio-8081-exec-10] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/register
2025-08-15 00:03:41.894 [http-nio-8081-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/register", parameters={}
2025-08-15 00:03:41.894 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AccountController#persistAccount(AccountRegisterRequest)
2025-08-15 00:03:41.895 [http-nio-8081-exec-10] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:41.897 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AccountRegisterRequest(username=CangNgo123, password=CangNgo123, email=cangngoo123@gmail.com, firstN (truncated)...]
2025-08-15 00:03:41.898 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1911772990<open>)] for JPA transaction
2025-08-15 00:03:41.898 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.fsocial.accountservice.services.impl.AccountServiceImpl.persistAccount]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,-java.lang.Exception
2025-08-15 00:03:41.899 [http-nio-8081-exec-10] DEBUG o.h.e.t.internal.TransactionImpl - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false
2025-08-15 00:03:41.899 [http-nio-8081-exec-10] DEBUG o.h.e.t.internal.TransactionImpl - begin
2025-08-15 00:03:41.901 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@75ccddd8]
2025-08-15 00:03:41.974 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1911772990<open>)] for JPA transaction
2025-08-15 00:03:41.974 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-08-15 00:03:41.976 [http-nio-8081-exec-10] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = IGNORE
2025-08-15 00:03:41.976 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    select
        r1_0.name,
        r1_0.description 
    from
        role r1_0 
    where
        r1_0.name=?
2025-08-15 00:03:42.048 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1911772990<open>)] for JPA transaction
2025-08-15 00:03:42.048 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-08-15 00:03:42.049 [http-nio-8081-exec-10] DEBUG o.h.j.i.PersistenceUnitUtilImpl - jakarta.persistence.PersistenceUnitUtil.getIdentifier is only intended to work with enhanced entities (although Hibernate also adapts this support to its proxies); however the passed entity was not enhanced (nor a proxy).. may not be able to read identifier
2025-08-15 00:03:42.065 [http-nio-8081-exec-10] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: 95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, using strategy: org.hibernate.id.UUIDGenerator
2025-08-15 00:03:42.069 [http-nio-8081-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:03:42.117 [http-nio-8081-exec-10] DEBUG o.s.d.a.AuditingHandlerSupport - Touched com.fsocial.accountservice.entity.Account@2d4c00ac - Last modification at 2025-08-15T00:03:42.115269100 by unknown
2025-08-15 00:03:42.161 [http-nio-8081-exec-10] DEBUG o.s.c.o.support.SpringEncoder - Writing [ProfileRegisterRequest(userId=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, firstName=Tấn Cang, lastName=Ngô, dob=1940-01-01, gender=0)] using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@5d7698bb]
2025-08-15 00:03:42.179 [http-nio-8081-exec-10] INFO  c.f.a.config.AuthenticationConfig - Token: null
2025-08-15 00:03:45.369 [http-nio-8081-exec-10] DEBUG o.s.d.r.core.RedisConnectionUtils - Fetching Redis Connection from RedisConnectionFactory
2025-08-15 00:03:45.375 [http-nio-8081-exec-10] DEBUG io.lettuce.core.RedisChannelHandler - dispatching command AsyncCommand [type=DEL, output=IntegerOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:45.375 [http-nio-8081-exec-10] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() writeAndFlush command AsyncCommand [type=DEL, output=IntegerOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:45.375 [http-nio-8081-exec-10] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] write() done
2025-08-15 00:03:45.375 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] write(ctx, AsyncCommand [type=DEL, output=IntegerOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command], promise)
2025-08-15 00:03:45.376 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandEncoder - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379] writing command AsyncCommand [type=DEL, output=IntegerOutput [output=null, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:45.378 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Received: 4 bytes, 1 commands in the stack
2025-08-15 00:03:45.378 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Stack contains: 1 commands
2025-08-15 00:03:45.378 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.RedisStateMachine - Decode done, empty stack: true
2025-08-15 00:03:45.378 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] Completing command AsyncCommand [type=DEL, output=IntegerOutput [output=1, error='null'], commandType=io.lettuce.core.protocol.Command]
2025-08-15 00:03:45.378 [http-nio-8081-exec-10] DEBUG o.s.d.r.core.RedisConnectionUtils - Closing Redis Connection
2025-08-15 00:03:45.378 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-08-15 00:03:45.380 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1911772990<open>)]
2025-08-15 00:03:45.380 [http-nio-8081-exec-10] DEBUG o.h.e.t.internal.TransactionImpl - committing
2025-08-15 00:03:45.382 [http-nio-8081-exec-10] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
2025-08-15 00:03:45.387 [http-nio-8081-exec-10] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
2025-08-15 00:03:45.398 [http-nio-8081-exec-10] DEBUG o.h.engine.internal.Collections - Collection found: [com.fsocial.accountservice.entity.Role.permissions#USER], was: [com.fsocial.accountservice.entity.Role.permissions#USER] (uninitialized)
2025-08-15 00:03:45.398 [http-nio-8081-exec-10] DEBUG o.h.engine.internal.Collections - Collection found: [com.fsocial.accountservice.entity.Role.users#USER], was: [com.fsocial.accountservice.entity.Role.users#USER] (uninitialized)
2025-08-15 00:03:45.402 [http-nio-8081-exec-10] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 1 insertions, 0 updates, 0 deletions to 2 objects
2025-08-15 00:03:45.402 [http-nio-8081-exec-10] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 2 collections
2025-08-15 00:03:45.404 [http-nio-8081-exec-10] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
2025-08-15 00:03:45.404 [http-nio-8081-exec-10] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Account{createdAt=2025-08-15T00:03:41.901377600, password=$2a$10$PDRg9nvnp4DzLfbZHW8mJu4aOhkXbWWekRLASqfg3UA2.fOA7Dun., isKOL=false, role=com.fsocial.accountservice.entity.Role#USER, updatedBy=null, createdBy=null, id=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, email=cangngoo123@gmail.com, status=true, token=null, updatedAt=null, username=CangNgo123}
2025-08-15 00:03:45.405 [http-nio-8081-exec-10] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Role{permissions=<uninitialized>, name=USER, description=null, users=<uninitialized>}
2025-08-15 00:03:45.449 [http-nio-8081-exec-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        account
        (created_at, created_by, email, iskol, password, role, status, token, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-15 00:03:45.483 [http-nio-8081-exec-10] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-08-15 00:03:45.485 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:03:45.485 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Tài khoản đã được đăng ký thành công., dateTime=2025-08-15T00:03 (truncated)...]
2025-08-15 00:03:45.486 [http-nio-8081-exec-10] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:45.487 [http-nio-8081-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:03:52.480 [http-nio-8081-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-15 00:03:52.480 [http-nio-8081-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /login
2025-08-15 00:03:52.480 [http-nio-8081-exec-1] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/login
2025-08-15 00:03:52.480 [http-nio-8081-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/login", parameters={}
2025-08-15 00:03:52.480 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#handleLogin(AccountLoginRequest, String, HttpServletRequest)
2025-08-15 00:03:52.481 [http-nio-8081-exec-1] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:52.489 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [AccountLoginRequest(username=CangNgo123, password=CangNgo123)]
2025-08-15 00:03:52.526 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:03:52.526 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(8))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:03:52.527 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@cb0cc59] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(8).role] for NavigablePath [com.fsocial.accountservice.entity.Account(8).role] 
2025-08-15 00:03:52.527 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@5167b097] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(8).token] for NavigablePath [com.fsocial.accountservice.entity.Account(8).token] 
2025-08-15 00:03:52.529 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@46f0da75
2025-08-15 00:03:52.529 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(8).username) 
2025-08-15 00:03:52.529 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@3e8efaba
2025-08-15 00:03:52.529 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(8).email) 
2025-08-15 00:03:52.529 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Account(8)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(8).createdAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(8).createdBy]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(8).email]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(8).isKOL]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(8).password]
 |  +-CircularFetchImpl [com.fsocial.accountservice.entity.Account(8).role]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(8).status]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Account(8).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(8).updatedAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(8).updatedBy]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Account(8).username]

2025-08-15 00:03:52.530 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(8)) {
          primaryTableReference : account as a1_0
          TableGroupJoins {
            left  join LazyTableGroup (r1 : com.fsocial.accountservice.entity.Account(8).role) {
            }
            left  join LazyTableGroup (t1 : com.fsocial.accountservice.entity.Account(8).token) {
            }
          }
        }
      }
    }

2025-08-15 00:03:52.531 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:03:52.531 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.username=? 
        or a1_0.email=?
2025-08-15 00:03:52.540 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account(8).token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(8).token)@238736231 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account(8) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account(8))@757772953 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))
	  com.fsocial.accountservice.entity.Account(8).role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(8).role)@993436655 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)

2025-08-15 00:03:52.627 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:03:52.627 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(6))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:03:52.627 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@9ad9122] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).role] for NavigablePath [com.fsocial.accountservice.entity.Account(6).role] 
2025-08-15 00:03:52.627 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@3f610fdc] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).token] for NavigablePath [com.fsocial.accountservice.entity.Account(6).token] 
2025-08-15 00:03:52.627 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@5d44470c
2025-08-15 00:03:52.627 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(6).username) 
2025-08-15 00:03:52.627 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Account(6)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdBy]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).email]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).isKOL]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).password]
 |  +-CircularFetchImpl [com.fsocial.accountservice.entity.Account(6).role]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).status]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Account(6).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedBy]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Account(6).username]

2025-08-15 00:03:52.627 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(6)) {
          primaryTableReference : account as a1_0
          TableGroupJoins {
            left  join LazyTableGroup (r1 : com.fsocial.accountservice.entity.Account(6).role) {
            }
            left  join LazyTableGroup (t1 : com.fsocial.accountservice.entity.Account(6).token) {
            }
          }
        }
      }
    }

2025-08-15 00:03:52.628 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:03:52.628 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.username=?
2025-08-15 00:03:52.630 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account(6).role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).role)@2110010695 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)
	  com.fsocial.accountservice.entity.Account(6).token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).token)@795630447 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account(6) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account(6))@1801852009 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))

2025-08-15 00:03:52.714 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : t1_0
2025-08-15 00:03:52.714 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Token(11))] with identifierForTableGroup [com.fsocial.accountservice.entity.Token] for NavigablePath [com.fsocial.accountservice.entity.Token] 
2025-08-15 00:03:52.714 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@6d20eb02] with identifierForTableGroup [com.fsocial.accountservice.entity.Token(11).account] for NavigablePath [com.fsocial.accountservice.entity.Token(11).account] 
2025-08-15 00:03:52.715 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@5c89be29] with identifierForTableGroup [com.fsocial.accountservice.entity.Token(11).account] for NavigablePath [com.fsocial.accountservice.entity.Token(11).account] 
2025-08-15 00:03:52.715 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@5c89be29] for NavigablePath [com.fsocial.accountservice.entity.Token(11).account] overrode previous registration : org.hibernate.sql.ast.tree.from.LazyTableGroup@6d20eb02
2025-08-15 00:03:52.715 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.JpaCriteriaParameter@4608df8b
2025-08-15 00:03:52.717 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@707f2242
2025-08-15 00:03:52.717 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmEntityValuedSimplePath(com.fsocial.accountservice.entity.Token(11).account) 
2025-08-15 00:03:52.718 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Token(11)]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Token(11).account]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Token(11).token]

2025-08-15 00:03:52.719 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (t1 : com.fsocial.accountservice.entity.Token(11)) {
          primaryTableReference : token as t1_0
          TableGroupJoins {
            left  join LazyTableGroup (a1 : com.fsocial.accountservice.entity.Token(11).account) {
            }
             join LazyTableGroup (a2 : com.fsocial.accountservice.entity.Token(11).account) {
            }
          }
        }
      }
    }

2025-08-15 00:03:52.719 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:03:52.719 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.account_id,
        t1_0.token 
    from
        token t1_0 
    where
        t1_0.account_id=?
2025-08-15 00:03:52.724 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Token(11).account -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Token(11).account)@2015487475 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Token.account])@852101188)
	  com.fsocial.accountservice.entity.Token(11) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Token(11))@1552501622 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Token))

2025-08-15 00:03:52.725 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2046506073<open>)] for JPA transaction
2025-08-15 00:03:52.725 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-15 00:03:52.725 [http-nio-8081-exec-1] DEBUG o.h.e.t.internal.TransactionImpl - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false
2025-08-15 00:03:52.725 [http-nio-8081-exec-1] DEBUG o.h.e.t.internal.TransactionImpl - begin
2025-08-15 00:03:52.726 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@645a96b0]
2025-08-15 00:03:52.727 [http-nio-8081-exec-1] DEBUG o.h.j.i.PersistenceUnitUtilImpl - jakarta.persistence.PersistenceUnitUtil.getIdentifier is only intended to work with enhanced entities (although Hibernate also adapts this support to its proxies); however the passed entity was not enhanced (nor a proxy).. may not be able to read identifier
2025-08-15 00:03:52.727 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractSaveEventListener - Generated identifier: bf50d70e-09b6-49e3-bb9b-a38e5d12ea86, using strategy: org.hibernate.id.UUIDGenerator
2025-08-15 00:03:52.727 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-08-15 00:03:52.727 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2046506073<open>)]
2025-08-15 00:03:52.727 [http-nio-8081-exec-1] DEBUG o.h.e.t.internal.TransactionImpl - committing
2025-08-15 00:03:52.727 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
2025-08-15 00:03:52.728 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
2025-08-15 00:03:52.728 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 1 insertions, 0 updates, 0 deletions to 2 objects
2025-08-15 00:03:52.728 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2025-08-15 00:03:52.728 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
2025-08-15 00:03:52.728 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Account{createdAt=2025-08-15T00:03:45.429516, password=$2a$10$PDRg9nvnp4DzLfbZHW8mJu4aOhkXbWWekRLASqfg3UA2.fOA7Dun., isKOL=false, role=<uninitialized>, updatedBy=null, createdBy=null, id=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, email=cangngoo123@gmail.com, status=true, token=null, updatedAt=null, username=CangNgo123}
2025-08-15 00:03:52.728 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Token{id=bf50d70e-09b6-49e3-bb9b-a38e5d12ea86, account=com.fsocial.accountservice.entity.Account#95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1Yy00MGM2LWIyYzMtMmM5YmQyYjQ1MWMxIiwiZXhwIjoxNzU1MTkxMDkyLCJpYXQiOjE3NTUxOTEwMzIsImp0aSI6ImRhODk5OWFkLWY5MTctNDFkYy1iYmIyLWI1YmUzNGVkOGEzNyIsInNjb3BlIjoiVVNFUiJ9.bJ8hNdxjv_wk2y0kBcejTpqWPI_SvuvW00jpfx9Xz5Q}
2025-08-15 00:03:52.729 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        token
        (account_id, token, id) 
    values
        (?, ?, ?)
2025-08-15 00:03:52.736 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-08-15 00:03:52.736 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2046506073<open>)] for JPA transaction
2025-08-15 00:03:52.736 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [com.fsocial.accountservice.services.impl.RefreshTokenServiceImpl.createRefreshToken]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-08-15 00:03:52.736 [http-nio-8081-exec-1] DEBUG o.h.e.t.internal.TransactionImpl - begin
2025-08-15 00:03:52.737 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@6596d43e]
2025-08-15 00:03:52.739 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
2025-08-15 00:03:52.739 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
2025-08-15 00:03:52.739 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:03:52.739 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(6))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:03:52.739 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@a272978] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).role] for NavigablePath [com.fsocial.accountservice.entity.Account(6).role] 
2025-08-15 00:03:52.739 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@2f1a5679] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).token] for NavigablePath [com.fsocial.accountservice.entity.Account(6).token] 
2025-08-15 00:03:52.739 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@6ee97e23
2025-08-15 00:03:52.739 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(6).username) 
2025-08-15 00:03:52.740 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Account(6)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdBy]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).email]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).isKOL]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).password]
 |  +-CircularFetchImpl [com.fsocial.accountservice.entity.Account(6).role]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).status]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Account(6).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedBy]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Account(6).username]

2025-08-15 00:03:52.740 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(6)) {
          primaryTableReference : account as a1_0
          TableGroupJoins {
            left  join LazyTableGroup (r1 : com.fsocial.accountservice.entity.Account(6).role) {
            }
            left  join LazyTableGroup (t1 : com.fsocial.accountservice.entity.Account(6).token) {
            }
          }
        }
      }
    }

2025-08-15 00:03:52.740 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 2 objects
2025-08-15 00:03:52.740 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2025-08-15 00:03:52.740 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
2025-08-15 00:03:52.740 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Account{createdAt=2025-08-15T00:03:45.429516, password=$2a$10$PDRg9nvnp4DzLfbZHW8mJu4aOhkXbWWekRLASqfg3UA2.fOA7Dun., isKOL=false, role=<uninitialized>, updatedBy=null, createdBy=null, id=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, email=cangngoo123@gmail.com, status=true, token=null, updatedAt=null, username=CangNgo123}
2025-08-15 00:03:52.740 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Token{id=bf50d70e-09b6-49e3-bb9b-a38e5d12ea86, account=com.fsocial.accountservice.entity.Account#95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1Yy00MGM2LWIyYzMtMmM5YmQyYjQ1MWMxIiwiZXhwIjoxNzU1MTkxMDkyLCJpYXQiOjE3NTUxOTEwMzIsImp0aSI6ImRhODk5OWFkLWY5MTctNDFkYy1iYmIyLWI1YmUzNGVkOGEzNyIsInNjb3BlIjoiVVNFUiJ9.bJ8hNdxjv_wk2y0kBcejTpqWPI_SvuvW00jpfx9Xz5Q}
2025-08-15 00:03:52.740 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:03:52.741 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.username=?
2025-08-15 00:03:52.743 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account(6).role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).role)@1528601531 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)
	  com.fsocial.accountservice.entity.Account(6).token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).token)@756106871 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account(6) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account(6))@121934717 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))

2025-08-15 00:03:52.745 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
2025-08-15 00:03:52.746 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
2025-08-15 00:03:52.746 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : rt1_0
2025-08-15 00:03:52.746 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.RefreshToken(14))] with identifierForTableGroup [com.fsocial.accountservice.entity.RefreshToken] for NavigablePath [com.fsocial.accountservice.entity.RefreshToken] 
2025-08-15 00:03:52.746 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@75013241
2025-08-15 00:03:52.746 [http-nio-8081-exec-1] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.RefreshToken(14).username) 
2025-08-15 00:03:52.746 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-BasicResult

2025-08-15 00:03:52.746 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (rt1 : com.fsocial.accountservice.entity.RefreshToken(14)) {
          primaryTableReference : refresh_token as rt1_0
        }
      }
    }

2025-08-15 00:03:52.747 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 2 objects
2025-08-15 00:03:52.747 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2025-08-15 00:03:52.747 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
2025-08-15 00:03:52.747 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Account{createdAt=2025-08-15T00:03:45.429516, password=$2a$10$PDRg9nvnp4DzLfbZHW8mJu4aOhkXbWWekRLASqfg3UA2.fOA7Dun., isKOL=false, role=<uninitialized>, updatedBy=null, createdBy=null, id=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, email=cangngoo123@gmail.com, status=true, token=null, updatedAt=null, username=CangNgo123}
2025-08-15 00:03:52.747 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Token{id=bf50d70e-09b6-49e3-bb9b-a38e5d12ea86, account=com.fsocial.accountservice.entity.Account#95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1Yy00MGM2LWIyYzMtMmM5YmQyYjQ1MWMxIiwiZXhwIjoxNzU1MTkxMDkyLCJpYXQiOjE3NTUxOTEwMzIsImp0aSI6ImRhODk5OWFkLWY5MTctNDFkYy1iYmIyLWI1YmUzNGVkOGEzNyIsInNjb3BlIjoiVVNFUiJ9.bJ8hNdxjv_wk2y0kBcejTpqWPI_SvuvW00jpfx9Xz5Q}
2025-08-15 00:03:52.747 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:03:52.747 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(rt1_0.id) 
    from
        refresh_token rt1_0 
    where
        rt1_0.username=?
2025-08-15 00:03:52.752 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results - Initializer list is empty
2025-08-15 00:03:52.762 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2046506073<open>)] for JPA transaction
2025-08-15 00:03:52.762 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-08-15 00:03:52.762 [http-nio-8081-exec-1] DEBUG o.h.j.i.PersistenceUnitUtilImpl - jakarta.persistence.PersistenceUnitUtil.getIdentifier is only intended to work with enhanced entities (although Hibernate also adapts this support to its proxies); however the passed entity was not enhanced (nor a proxy).. may not be able to read identifier
2025-08-15 00:03:52.763 [http-nio-8081-exec-1] DEBUG o.hibernate.engine.spi.ActionQueue - Executing identity-insert immediately
2025-08-15 00:03:52.765 [http-nio-8081-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        refresh_token
        (expiry_date, ip_address, token, user_agent, username) 
    values
        (?, ?, ?, ?, ?)
2025-08-15 00:03:52.780 [http-nio-8081-exec-1] DEBUG org.hibernate.orm.results - Initializer list is empty
2025-08-15 00:03:52.780 [http-nio-8081-exec-1] DEBUG o.h.id.IdentifierGeneratorHelper - Extracted generated values [com.fsocial.accountservice.entity.RefreshToken]: [Ljava.lang.Object;@2b85059c
2025-08-15 00:03:52.782 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-08-15 00:03:52.782 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2046506073<open>)]
2025-08-15 00:03:52.782 [http-nio-8081-exec-1] DEBUG o.h.e.t.internal.TransactionImpl - committing
2025-08-15 00:03:52.782 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Processing flush-time cascades
2025-08-15 00:03:52.782 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Dirty checking collections
2025-08-15 00:03:52.782 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
2025-08-15 00:03:52.782 [http-nio-8081-exec-1] DEBUG o.h.e.i.AbstractFlushingEventListener - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
2025-08-15 00:03:52.782 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - Listing entities:
2025-08-15 00:03:52.783 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Account{createdAt=2025-08-15T00:03:45.429516, password=$2a$10$PDRg9nvnp4DzLfbZHW8mJu4aOhkXbWWekRLASqfg3UA2.fOA7Dun., isKOL=false, role=<uninitialized>, updatedBy=null, createdBy=null, id=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, email=cangngoo123@gmail.com, status=true, token=null, updatedAt=null, username=CangNgo123}
2025-08-15 00:03:52.783 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.RefreshToken{expiryDate=2025-08-17T17:03:52.761847800Z, ipAddress=127.0.0.1, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36, id=1, token=EDh2vusBP5ry8sTB0tevEDbb01WZv_my__h6sg1jgMY, username=CangNgo123}
2025-08-15 00:03:52.783 [http-nio-8081-exec-1] DEBUG o.h.internal.util.EntityPrinter - com.fsocial.accountservice.entity.Token{id=bf50d70e-09b6-49e3-bb9b-a38e5d12ea86, account=com.fsocial.accountservice.entity.Account#95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1, token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1Yy00MGM2LWIyYzMtMmM5YmQyYjQ1MWMxIiwiZXhwIjoxNzU1MTkxMDkyLCJpYXQiOjE3NTUxOTEwMzIsImp0aSI6ImRhODk5OWFkLWY5MTctNDFkYy1iYmIyLWI1YmUzNGVkOGEzNyIsInNjb3BlIjoiVVNFUiJ9.bJ8hNdxjv_wk2y0kBcejTpqWPI_SvuvW00jpfx9Xz5Q}
2025-08-15 00:03:52.787 [http-nio-8081-exec-1] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-08-15 00:03:52.788 [http-nio-8081-exec-1] INFO  c.f.a.s.i.AuthenticationServiceImpl - Người dùng CangNgo123 đăng nhập thành công từ IP: 127.0.0.1
2025-08-15 00:03:52.790 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:03:52.790 [http-nio-8081-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:03:52.789578200, da (truncated)...]
2025-08-15 00:03:52.794 [http-nio-8081-exec-1] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:52.794 [http-nio-8081-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:03:52.794 [http-nio-8081-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:03:53.888 [http-nio-8081-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:03:53.888 [http-nio-8081-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:03:53.888 [http-nio-8081-exec-2] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:03:53.888 [http-nio-8081-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:03:53.888 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:03:53.888 [http-nio-8081-exec-2] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:53.891 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:03:53.903 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:03:53.903 [http-nio-8081-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:03:53.903491300, da (truncated)...]
2025-08-15 00:03:53.906 [http-nio-8081-exec-2] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:03:53.906 [http-nio-8081-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:03:53.906 [http-nio-8081-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:04:06.845 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:04:06.845 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:04:21.067 [http-nio-8081-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:04:21.067 [http-nio-8081-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:04:21.067 [http-nio-8081-exec-3] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:04:21.067 [http-nio-8081-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:04:21.068 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:04:21.068 [http-nio-8081-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:04:21.069 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:04:21.071 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:04:21.071 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:04:21.070140600, da (truncated)...]
2025-08-15 00:04:21.071 [http-nio-8081-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:04:21.072 [http-nio-8081-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:04:21.072 [http-nio-8081-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:04:36.853 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:04:36.853 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:05:06.860 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:05:06.860 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:05:36.871 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:05:36.872 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:05:37.924 [http-nio-8081-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:05:37.925 [http-nio-8081-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:05:37.925 [http-nio-8081-exec-6] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:05:37.925 [http-nio-8081-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:05:37.925 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:05:37.926 [http-nio-8081-exec-6] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:05:37.927 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:05:37.928 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:05:37.929 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:05:37.928119800, da (truncated)...]
2025-08-15 00:05:37.929 [http-nio-8081-exec-6] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:05:37.930 [http-nio-8081-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:05:37.930 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:05:38.007 [http-nio-8081-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /refresh-token
2025-08-15 00:05:38.008 [http-nio-8081-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured POST /refresh-token
2025-08-15 00:05:38.008 [http-nio-8081-exec-7] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/refresh-token
2025-08-15 00:05:38.008 [http-nio-8081-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/refresh-token", parameters={}
2025-08-15 00:05:38.008 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#refreshAccessToken(RefreshTokenRequest, String, HttpServletRequest)
2025-08-15 00:05:38.009 [http-nio-8081-exec-7] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:05:38.015 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.fsocial.accountservice.dto.request.auth.RefreshTokenRequest@65c85e13]
2025-08-15 00:05:38.020 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : rt1_0
2025-08-15 00:05:38.020 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.RefreshToken(18))] with identifierForTableGroup [com.fsocial.accountservice.entity.RefreshToken] for NavigablePath [com.fsocial.accountservice.entity.RefreshToken] 
2025-08-15 00:05:38.021 [http-nio-8081-exec-7] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@282f6865
2025-08-15 00:05:38.021 [http-nio-8081-exec-7] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.RefreshToken(18).token) 
2025-08-15 00:05:38.021 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.RefreshToken(18)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).expiryDate]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).ipAddress]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).userAgent]
 |  \-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).username]

2025-08-15 00:05:38.021 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (rt1 : com.fsocial.accountservice.entity.RefreshToken(18)) {
          primaryTableReference : refresh_token as rt1_0
        }
      }
    }

2025-08-15 00:05:38.021 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:05:38.021 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.ip_address,
        rt1_0.token,
        rt1_0.user_agent,
        rt1_0.username 
    from
        refresh_token rt1_0 
    where
        rt1_0.token=?
2025-08-15 00:05:38.027 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.RefreshToken(18) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.RefreshToken(18))@553984298 (SingleTableEntityPersister(com.fsocial.accountservice.entity.RefreshToken))

2025-08-15 00:05:38.031 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:05:38.032 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(6))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:05:38.032 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@377cbac3] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).role] for NavigablePath [com.fsocial.accountservice.entity.Account(6).role] 
2025-08-15 00:05:38.032 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@3a508a19] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).token] for NavigablePath [com.fsocial.accountservice.entity.Account(6).token] 
2025-08-15 00:05:38.032 [http-nio-8081-exec-7] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@1c3b7748
2025-08-15 00:05:38.032 [http-nio-8081-exec-7] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(6).username) 
2025-08-15 00:05:38.033 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Account(6)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdBy]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).email]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).isKOL]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).password]
 |  +-CircularFetchImpl [com.fsocial.accountservice.entity.Account(6).role]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).status]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Account(6).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedBy]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Account(6).username]

2025-08-15 00:05:38.033 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(6)) {
          primaryTableReference : account as a1_0
          TableGroupJoins {
            left  join LazyTableGroup (r1 : com.fsocial.accountservice.entity.Account(6).role) {
            }
            left  join LazyTableGroup (t1 : com.fsocial.accountservice.entity.Account(6).token) {
            }
          }
        }
      }
    }

2025-08-15 00:05:38.033 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:05:38.033 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.username=?
2025-08-15 00:05:38.037 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account(6).role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).role)@630914293 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)
	  com.fsocial.accountservice.entity.Account(6).token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).token)@1763277857 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account(6) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account(6))@1158542766 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))

2025-08-15 00:05:38.038 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:05:38.039 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:05:38.038775700, da (truncated)...]
2025-08-15 00:05:38.039 [http-nio-8081-exec-7] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:05:38.040 [http-nio-8081-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:05:38.040 [http-nio-8081-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:05:38.075 [http-nio-8081-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:05:38.076 [http-nio-8081-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:05:38.076 [http-nio-8081-exec-8] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:05:38.076 [http-nio-8081-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:05:38.076 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:05:38.076 [http-nio-8081-exec-8] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:05:38.077 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:05:38.077 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:05:38.078 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:05:38.077724, data= (truncated)...]
2025-08-15 00:05:38.078 [http-nio-8081-exec-8] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:05:38.078 [http-nio-8081-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:05:38.078 [http-nio-8081-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:06:02.724 [http-nio-8081-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:06:02.725 [http-nio-8081-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:06:02.725 [http-nio-8081-exec-9] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:06:02.725 [http-nio-8081-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:06:02.725 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:06:02.725 [http-nio-8081-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:06:02.728 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:06:02.729 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:06:02.729 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:06:02.729903800, da (truncated)...]
2025-08-15 00:06:02.732 [http-nio-8081-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:06:02.733 [http-nio-8081-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:06:02.734 [http-nio-8081-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:06:06.886 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:06:06.886 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:06:16.979 [http-nio-8081-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:06:16.980 [http-nio-8081-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:06:16.980 [http-nio-8081-exec-10] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:06:16.980 [http-nio-8081-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:06:16.980 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:06:16.980 [http-nio-8081-exec-10] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:06:16.982 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:06:16.986 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:06:16.987 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:06:16.983831500, da (truncated)...]
2025-08-15 00:06:16.988 [http-nio-8081-exec-10] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:06:16.988 [http-nio-8081-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:06:16.988 [http-nio-8081-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:06:36.892 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:06:36.892 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:07:06.906 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:07:06.907 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:07:36.920 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:07:36.920 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:08:06.931 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:08:06.931 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:08:36.941 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:08:36.941 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:08:40.591 [http-nio-8081-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:08:40.593 [http-nio-8081-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:08:40.593 [http-nio-8081-exec-3] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:08:40.593 [http-nio-8081-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:08:40.594 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:08:40.594 [http-nio-8081-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:08:40.595 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:08:40.601 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:08:40.603 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:08:40.600360500, da (truncated)...]
2025-08-15 00:08:40.605 [http-nio-8081-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:08:40.605 [http-nio-8081-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:08:40.606 [http-nio-8081-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:08:40.637 [http-nio-8081-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /refresh-token
2025-08-15 00:08:40.637 [http-nio-8081-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /refresh-token
2025-08-15 00:08:40.637 [http-nio-8081-exec-4] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/refresh-token
2025-08-15 00:08:40.638 [http-nio-8081-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/refresh-token", parameters={}
2025-08-15 00:08:40.638 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#refreshAccessToken(RefreshTokenRequest, String, HttpServletRequest)
2025-08-15 00:08:40.639 [http-nio-8081-exec-4] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:08:40.640 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.fsocial.accountservice.dto.request.auth.RefreshTokenRequest@7433e6fd]
2025-08-15 00:08:40.641 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : rt1_0
2025-08-15 00:08:40.642 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.RefreshToken(18))] with identifierForTableGroup [com.fsocial.accountservice.entity.RefreshToken] for NavigablePath [com.fsocial.accountservice.entity.RefreshToken] 
2025-08-15 00:08:40.642 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@29bf5553
2025-08-15 00:08:40.642 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.RefreshToken(18).token) 
2025-08-15 00:08:40.642 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.RefreshToken(18)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).expiryDate]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).ipAddress]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).userAgent]
 |  \-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).username]

2025-08-15 00:08:40.642 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (rt1 : com.fsocial.accountservice.entity.RefreshToken(18)) {
          primaryTableReference : refresh_token as rt1_0
        }
      }
    }

2025-08-15 00:08:40.643 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:08:40.643 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.ip_address,
        rt1_0.token,
        rt1_0.user_agent,
        rt1_0.username 
    from
        refresh_token rt1_0 
    where
        rt1_0.token=?
2025-08-15 00:08:40.650 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.RefreshToken(18) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.RefreshToken(18))@774083012 (SingleTableEntityPersister(com.fsocial.accountservice.entity.RefreshToken))

2025-08-15 00:08:40.652 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:08:40.652 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(6))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:08:40.652 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@2c1a9963] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).role] for NavigablePath [com.fsocial.accountservice.entity.Account(6).role] 
2025-08-15 00:08:40.652 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@780ad956] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).token] for NavigablePath [com.fsocial.accountservice.entity.Account(6).token] 
2025-08-15 00:08:40.652 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@3276d044
2025-08-15 00:08:40.653 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(6).username) 
2025-08-15 00:08:40.653 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Account(6)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdBy]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).email]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).isKOL]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).password]
 |  +-CircularFetchImpl [com.fsocial.accountservice.entity.Account(6).role]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).status]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Account(6).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedBy]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Account(6).username]

2025-08-15 00:08:40.653 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(6)) {
          primaryTableReference : account as a1_0
          TableGroupJoins {
            left  join LazyTableGroup (r1 : com.fsocial.accountservice.entity.Account(6).role) {
            }
            left  join LazyTableGroup (t1 : com.fsocial.accountservice.entity.Account(6).token) {
            }
          }
        }
      }
    }

2025-08-15 00:08:40.653 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:08:40.653 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.username=?
2025-08-15 00:08:40.659 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account(6).role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).role)@1682547705 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)
	  com.fsocial.accountservice.entity.Account(6).token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).token)@1317963849 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account(6) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account(6))@241826804 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))

2025-08-15 00:08:40.662 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:08:40.662 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:08:40.661453300, da (truncated)...]
2025-08-15 00:08:40.663 [http-nio-8081-exec-4] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:08:40.664 [http-nio-8081-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:08:40.664 [http-nio-8081-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:08:40.706 [http-nio-8081-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:08:40.706 [http-nio-8081-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:08:40.706 [http-nio-8081-exec-5] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:08:40.706 [http-nio-8081-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:08:40.706 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:08:40.706 [http-nio-8081-exec-5] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:08:40.707 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:08:40.708 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:08:40.708 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:08:40.707771800, da (truncated)...]
2025-08-15 00:08:40.708 [http-nio-8081-exec-5] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:08:40.709 [http-nio-8081-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:08:40.709 [http-nio-8081-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:09:06.950 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:09:06.950 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:09:36.962 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:09:36.962 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:10:06.972 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:10:06.972 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:10:36.978 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:10:36.978 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:11:06.992 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:11:06.992 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:11:37.005 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:11:37.005 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:12:07.010 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:12:07.010 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:12:37.013 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:12:37.013 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:13:07.025 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:13:07.025 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:13:37.027 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:13:37.027 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:14:07.033 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:14:07.033 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:14:37.038 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:14:37.038 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:14:48.428 [http-nio-8081-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:14:48.429 [http-nio-8081-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:14:48.429 [http-nio-8081-exec-8] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:14:48.430 [http-nio-8081-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:14:48.431 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:14:48.432 [http-nio-8081-exec-8] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:14:48.434 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:14:48.439 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:14:48.439 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:14:48.438078200, da (truncated)...]
2025-08-15 00:14:48.441 [http-nio-8081-exec-8] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:14:48.442 [http-nio-8081-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:14:48.442 [http-nio-8081-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:14:48.468 [http-nio-8081-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /refresh-token
2025-08-15 00:14:48.468 [http-nio-8081-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /refresh-token
2025-08-15 00:14:48.468 [http-nio-8081-exec-9] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/refresh-token
2025-08-15 00:14:48.468 [http-nio-8081-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/refresh-token", parameters={}
2025-08-15 00:14:48.469 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#refreshAccessToken(RefreshTokenRequest, String, HttpServletRequest)
2025-08-15 00:14:48.469 [http-nio-8081-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:14:48.470 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.fsocial.accountservice.dto.request.auth.RefreshTokenRequest@688d2114]
2025-08-15 00:14:48.474 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : rt1_0
2025-08-15 00:14:48.475 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.RefreshToken(18))] with identifierForTableGroup [com.fsocial.accountservice.entity.RefreshToken] for NavigablePath [com.fsocial.accountservice.entity.RefreshToken] 
2025-08-15 00:14:48.476 [http-nio-8081-exec-9] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@2d8fb261
2025-08-15 00:14:48.476 [http-nio-8081-exec-9] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.RefreshToken(18).token) 
2025-08-15 00:14:48.477 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.RefreshToken(18)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).expiryDate]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).ipAddress]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).userAgent]
 |  \-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).username]

2025-08-15 00:14:48.477 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (rt1 : com.fsocial.accountservice.entity.RefreshToken(18)) {
          primaryTableReference : refresh_token as rt1_0
        }
      }
    }

2025-08-15 00:14:48.477 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:14:48.477 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.ip_address,
        rt1_0.token,
        rt1_0.user_agent,
        rt1_0.username 
    from
        refresh_token rt1_0 
    where
        rt1_0.token=?
2025-08-15 00:14:48.491 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.RefreshToken(18) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.RefreshToken(18))@670392415 (SingleTableEntityPersister(com.fsocial.accountservice.entity.RefreshToken))

2025-08-15 00:14:48.494 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:14:48.494 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(6))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:14:48.494 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@597d8788] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).role] for NavigablePath [com.fsocial.accountservice.entity.Account(6).role] 
2025-08-15 00:14:48.495 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@1b502b06] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).token] for NavigablePath [com.fsocial.accountservice.entity.Account(6).token] 
2025-08-15 00:14:48.495 [http-nio-8081-exec-9] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@49ee7427
2025-08-15 00:14:48.495 [http-nio-8081-exec-9] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(6).username) 
2025-08-15 00:14:48.495 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Account(6)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdBy]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).email]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).isKOL]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).password]
 |  +-CircularFetchImpl [com.fsocial.accountservice.entity.Account(6).role]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).status]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Account(6).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedBy]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Account(6).username]

2025-08-15 00:14:48.495 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(6)) {
          primaryTableReference : account as a1_0
          TableGroupJoins {
            left  join LazyTableGroup (r1 : com.fsocial.accountservice.entity.Account(6).role) {
            }
            left  join LazyTableGroup (t1 : com.fsocial.accountservice.entity.Account(6).token) {
            }
          }
        }
      }
    }

2025-08-15 00:14:48.496 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:14:48.496 [http-nio-8081-exec-9] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.username=?
2025-08-15 00:14:48.501 [http-nio-8081-exec-9] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account(6).role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).role)@1663944184 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)
	  com.fsocial.accountservice.entity.Account(6).token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).token)@1800943497 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account(6) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account(6))@2100639632 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))

2025-08-15 00:14:48.503 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:14:48.503 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:14:48.503413700, da (truncated)...]
2025-08-15 00:14:48.505 [http-nio-8081-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:14:48.505 [http-nio-8081-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:14:48.505 [http-nio-8081-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:14:48.524 [http-nio-8081-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:14:48.525 [http-nio-8081-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:14:48.525 [http-nio-8081-exec-10] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:14:48.525 [http-nio-8081-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:14:48.525 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:14:48.525 [http-nio-8081-exec-10] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:14:48.526 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:14:48.527 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:14:48.527 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:14:48.527162100, da (truncated)...]
2025-08-15 00:14:48.528 [http-nio-8081-exec-10] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:14:48.528 [http-nio-8081-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:14:48.528 [http-nio-8081-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:15:07.049 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:15:07.049 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:15:37.063 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:15:37.063 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:16:07.066 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:16:07.066 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:16:37.078 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:16:37.078 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:17:07.083 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:17:07.083 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:17:18.015 [http-nio-8081-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:17:18.016 [http-nio-8081-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:17:18.016 [http-nio-8081-exec-3] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:17:18.016 [http-nio-8081-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:17:18.016 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:17:18.017 [http-nio-8081-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:18.019 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:17:18.025 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:17:18.025 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:17:18.025558400, da (truncated)...]
2025-08-15 00:17:18.030 [http-nio-8081-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:18.030 [http-nio-8081-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:17:18.030 [http-nio-8081-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:17:18.043 [http-nio-8081-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /refresh-token
2025-08-15 00:17:18.043 [http-nio-8081-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /refresh-token
2025-08-15 00:17:18.043 [http-nio-8081-exec-4] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/refresh-token
2025-08-15 00:17:18.044 [http-nio-8081-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/refresh-token", parameters={}
2025-08-15 00:17:18.044 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#refreshAccessToken(RefreshTokenRequest, String, HttpServletRequest)
2025-08-15 00:17:18.044 [http-nio-8081-exec-4] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:18.045 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.fsocial.accountservice.dto.request.auth.RefreshTokenRequest@6fa9f68c]
2025-08-15 00:17:18.046 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : rt1_0
2025-08-15 00:17:18.046 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.RefreshToken(18))] with identifierForTableGroup [com.fsocial.accountservice.entity.RefreshToken] for NavigablePath [com.fsocial.accountservice.entity.RefreshToken] 
2025-08-15 00:17:18.047 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@5e5c70cd
2025-08-15 00:17:18.047 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.RefreshToken(18).token) 
2025-08-15 00:17:18.047 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.RefreshToken(18)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).expiryDate]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).ipAddress]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).userAgent]
 |  \-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).username]

2025-08-15 00:17:18.047 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (rt1 : com.fsocial.accountservice.entity.RefreshToken(18)) {
          primaryTableReference : refresh_token as rt1_0
        }
      }
    }

2025-08-15 00:17:18.047 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:17:18.047 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.ip_address,
        rt1_0.token,
        rt1_0.user_agent,
        rt1_0.username 
    from
        refresh_token rt1_0 
    where
        rt1_0.token=?
2025-08-15 00:17:18.052 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.RefreshToken(18) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.RefreshToken(18))@1077964381 (SingleTableEntityPersister(com.fsocial.accountservice.entity.RefreshToken))

2025-08-15 00:17:18.053 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:17:18.053 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(6))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:17:18.054 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@520b7b2e] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).role] for NavigablePath [com.fsocial.accountservice.entity.Account(6).role] 
2025-08-15 00:17:18.054 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@7a16cdd2] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).token] for NavigablePath [com.fsocial.accountservice.entity.Account(6).token] 
2025-08-15 00:17:18.054 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@31fa2209
2025-08-15 00:17:18.054 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(6).username) 
2025-08-15 00:17:18.054 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Account(6)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdBy]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).email]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).isKOL]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).password]
 |  +-CircularFetchImpl [com.fsocial.accountservice.entity.Account(6).role]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).status]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Account(6).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedBy]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Account(6).username]

2025-08-15 00:17:18.054 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(6)) {
          primaryTableReference : account as a1_0
          TableGroupJoins {
            left  join LazyTableGroup (r1 : com.fsocial.accountservice.entity.Account(6).role) {
            }
            left  join LazyTableGroup (t1 : com.fsocial.accountservice.entity.Account(6).token) {
            }
          }
        }
      }
    }

2025-08-15 00:17:18.054 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:17:18.054 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.username=?
2025-08-15 00:17:18.057 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account(6).role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).role)@132825510 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)
	  com.fsocial.accountservice.entity.Account(6).token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).token)@2140733538 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account(6) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account(6))@345440162 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))

2025-08-15 00:17:18.059 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:17:18.059 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:17:18.058613800, da (truncated)...]
2025-08-15 00:17:18.059 [http-nio-8081-exec-4] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:18.060 [http-nio-8081-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:17:18.060 [http-nio-8081-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:17:18.077 [http-nio-8081-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:17:18.077 [http-nio-8081-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:17:18.077 [http-nio-8081-exec-5] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:17:18.077 [http-nio-8081-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:17:18.077 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:17:18.078 [http-nio-8081-exec-5] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:18.079 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:17:18.080 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:17:18.080 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:17:18.079687800, da (truncated)...]
2025-08-15 00:17:18.080 [http-nio-8081-exec-5] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:18.081 [http-nio-8081-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:17:18.081 [http-nio-8081-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:17:37.097 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:17:37.097 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:17:38.127 [http-nio-8081-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:17:38.128 [http-nio-8081-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:17:38.128 [http-nio-8081-exec-6] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:17:38.128 [http-nio-8081-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:17:38.128 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:17:38.129 [http-nio-8081-exec-6] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:38.130 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:17:38.134 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:17:38.134 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:17:38.133969700, da (truncated)...]
2025-08-15 00:17:38.135 [http-nio-8081-exec-6] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:38.136 [http-nio-8081-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:17:38.136 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:17:45.701 [http-nio-8081-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /exists?userId=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1
2025-08-15 00:17:45.706 [http-nio-8081-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /exists?userId=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1
2025-08-15 00:17:45.706 [http-nio-8081-exec-7] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/exists
2025-08-15 00:17:45.706 [http-nio-8081-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/account/exists?userId=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1", parameters={masked}
2025-08-15 00:17:45.707 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AccountController#existsAccountByUserId(String)
2025-08-15 00:17:45.707 [http-nio-8081-exec-7] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:45.713 [http-nio-8081-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(641022820<open>)] for JPA transaction
2025-08-15 00:17:45.713 [http-nio-8081-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-15 00:17:45.726 [http-nio-8081-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@48862717 wrapping com.mysql.cj.jdbc.ConnectionImpl@7621529a] read-only
2025-08-15 00:17:45.735 [http-nio-8081-exec-7] DEBUG o.h.e.t.internal.TransactionImpl - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false
2025-08-15 00:17:45.735 [http-nio-8081-exec-7] DEBUG o.h.e.t.internal.TransactionImpl - begin
2025-08-15 00:17:45.739 [http-nio-8081-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@608c2398]
2025-08-15 00:17:45.740 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = IGNORE
2025-08-15 00:17:45.741 [http-nio-8081-exec-7] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.id=?
2025-08-15 00:17:45.745 [http-nio-8081-exec-7] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account.role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account.role)@431545863 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)
	  com.fsocial.accountservice.entity.Account.token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account.token)@405388875 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account)@2017205204 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))

2025-08-15 00:17:45.746 [http-nio-8081-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-08-15 00:17:45.746 [http-nio-8081-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(641022820<open>)]
2025-08-15 00:17:45.746 [http-nio-8081-exec-7] DEBUG o.h.e.t.internal.TransactionImpl - committing
2025-08-15 00:17:45.751 [http-nio-8081-exec-7] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@48862717 wrapping com.mysql.cj.jdbc.ConnectionImpl@7621529a]
2025-08-15 00:17:45.752 [http-nio-8081-exec-7] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-08-15 00:17:45.754 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-08-15 00:17:45.754 [http-nio-8081-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Kiểm tra userId có tồn tại hay không thành công, dateTime=null,  (truncated)...]
2025-08-15 00:17:45.767 [http-nio-8081-exec-7] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:45.767 [http-nio-8081-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:17:45.767 [http-nio-8081-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:17:45.802 [http-nio-8081-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /exists?userId=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1
2025-08-15 00:17:45.802 [http-nio-8081-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /exists?userId=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1
2025-08-15 00:17:45.802 [http-nio-8081-exec-8] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/exists
2025-08-15 00:17:45.802 [http-nio-8081-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/account/exists?userId=95bdb4a9-8e5c-40c6-b2c3-2c9bd2b451c1", parameters={masked}
2025-08-15 00:17:45.802 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AccountController#existsAccountByUserId(String)
2025-08-15 00:17:45.802 [http-nio-8081-exec-8] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:45.803 [http-nio-8081-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1301847945<open>)] for JPA transaction
2025-08-15 00:17:45.803 [http-nio-8081-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-08-15 00:17:45.803 [http-nio-8081-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@320249795 wrapping com.mysql.cj.jdbc.ConnectionImpl@7621529a] read-only
2025-08-15 00:17:45.804 [http-nio-8081-exec-8] DEBUG o.h.e.t.internal.TransactionImpl - On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false
2025-08-15 00:17:45.804 [http-nio-8081-exec-8] DEBUG o.h.e.t.internal.TransactionImpl - begin
2025-08-15 00:17:45.805 [http-nio-8081-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5b15431b]
2025-08-15 00:17:45.805 [http-nio-8081-exec-8] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = IGNORE
2025-08-15 00:17:45.805 [http-nio-8081-exec-8] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.id=?
2025-08-15 00:17:45.807 [http-nio-8081-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-08-15 00:17:45.807 [http-nio-8081-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1301847945<open>)]
2025-08-15 00:17:45.807 [http-nio-8081-exec-8] DEBUG o.h.e.t.internal.TransactionImpl - committing
2025-08-15 00:17:45.810 [http-nio-8081-exec-8] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@320249795 wrapping com.mysql.cj.jdbc.ConnectionImpl@7621529a]
2025-08-15 00:17:45.810 [http-nio-8081-exec-8] DEBUG o.s.orm.jpa.JpaTransactionManager - Not closing pre-bound JPA EntityManager after transaction
2025-08-15 00:17:45.811 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json]
2025-08-15 00:17:45.811 [http-nio-8081-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Kiểm tra userId có tồn tại hay không thành công, dateTime=null,  (truncated)...]
2025-08-15 00:17:45.812 [http-nio-8081-exec-8] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:45.812 [http-nio-8081-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:17:45.812 [http-nio-8081-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:17:49.365 [http-nio-8081-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:17:49.365 [http-nio-8081-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:17:49.365 [http-nio-8081-exec-9] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:17:49.366 [http-nio-8081-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:17:49.366 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:17:49.366 [http-nio-8081-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:49.367 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:17:49.368 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:17:49.369 [http-nio-8081-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:17:49.368622100, da (truncated)...]
2025-08-15 00:17:49.369 [http-nio-8081-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:17:49.369 [http-nio-8081-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:17:49.370 [http-nio-8081-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:18:07.113 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:18:07.113 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:18:17.915 [http-nio-8081-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:18:17.915 [http-nio-8081-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:18:17.915 [http-nio-8081-exec-10] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:18:17.915 [http-nio-8081-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:18:17.915 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:18:17.915 [http-nio-8081-exec-10] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:18:17.917 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:18:17.917 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:18:17.918 [http-nio-8081-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:18:17.917732100, da (truncated)...]
2025-08-15 00:18:17.919 [http-nio-8081-exec-10] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:18:17.919 [http-nio-8081-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:18:17.919 [http-nio-8081-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:18:37.126 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:18:37.126 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:19:05.307 [http-nio-8081-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:19:05.308 [http-nio-8081-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:19:05.308 [http-nio-8081-exec-3] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:19:05.308 [http-nio-8081-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:19:05.308 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:19:05.308 [http-nio-8081-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:19:05.309 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:19:05.310 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:19:05.310 [http-nio-8081-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:19:05.309650800, da (truncated)...]
2025-08-15 00:19:05.311 [http-nio-8081-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:19:05.311 [http-nio-8081-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:19:05.311 [http-nio-8081-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:19:05.334 [http-nio-8081-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /refresh-token
2025-08-15 00:19:05.335 [http-nio-8081-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /refresh-token
2025-08-15 00:19:05.335 [http-nio-8081-exec-4] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/refresh-token
2025-08-15 00:19:05.335 [http-nio-8081-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/refresh-token", parameters={}
2025-08-15 00:19:05.335 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#refreshAccessToken(RefreshTokenRequest, String, HttpServletRequest)
2025-08-15 00:19:05.336 [http-nio-8081-exec-4] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:19:05.336 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [com.fsocial.accountservice.dto.request.auth.RefreshTokenRequest@c802bda]
2025-08-15 00:19:05.338 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : rt1_0
2025-08-15 00:19:05.338 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.RefreshToken(18))] with identifierForTableGroup [com.fsocial.accountservice.entity.RefreshToken] for NavigablePath [com.fsocial.accountservice.entity.RefreshToken] 
2025-08-15 00:19:05.338 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@6ff66d94
2025-08-15 00:19:05.338 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.RefreshToken(18).token) 
2025-08-15 00:19:05.339 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.RefreshToken(18)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).expiryDate]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).ipAddress]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).userAgent]
 |  \-BasicFetch [com.fsocial.accountservice.entity.RefreshToken(18).username]

2025-08-15 00:19:05.339 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (rt1 : com.fsocial.accountservice.entity.RefreshToken(18)) {
          primaryTableReference : refresh_token as rt1_0
        }
      }
    }

2025-08-15 00:19:05.339 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:19:05.339 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    select
        rt1_0.id,
        rt1_0.expiry_date,
        rt1_0.ip_address,
        rt1_0.token,
        rt1_0.user_agent,
        rt1_0.username 
    from
        refresh_token rt1_0 
    where
        rt1_0.token=?
2025-08-15 00:19:05.344 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.RefreshToken(18) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.RefreshToken(18))@748209628 (SingleTableEntityPersister(com.fsocial.accountservice.entity.RefreshToken))

2025-08-15 00:19:05.347 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Created new SQL alias : a1_0
2025-08-15 00:19:05.347 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [StandardTableGroup(com.fsocial.accountservice.entity.Account(6))] with identifierForTableGroup [com.fsocial.accountservice.entity.Account] for NavigablePath [com.fsocial.accountservice.entity.Account] 
2025-08-15 00:19:05.347 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@4a0090e1] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).role] for NavigablePath [com.fsocial.accountservice.entity.Account(6).role] 
2025-08-15 00:19:05.347 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.create - Registration of TableGroup [org.hibernate.sql.ast.tree.from.LazyTableGroup@2e63e150] with identifierForTableGroup [com.fsocial.accountservice.entity.Account(6).token] for NavigablePath [com.fsocial.accountservice.entity.Account(6).token] 
2025-08-15 00:19:05.347 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmParameter : org.hibernate.query.sqm.tree.expression.SqmJpaCriteriaParameterWrapper@93b6c91
2025-08-15 00:19:05.347 [http-nio-8081-exec-4] DEBUG o.h.q.s.sql.BaseSqmToSqlAstConverter - Determining mapping-model type for SqmPath : SqmBasicValuedSimplePath(com.fsocial.accountservice.entity.Account(6).username) 
2025-08-15 00:19:05.348 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results.graph.AST - DomainResult Graph:
 \-EntityResultImpl [com.fsocial.accountservice.entity.Account(6)]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).createdBy]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).email]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).isKOL]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).password]
 |  +-CircularFetchImpl [com.fsocial.accountservice.entity.Account(6).role]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).status]
 |  +-EntityDelayedFetchImpl [com.fsocial.accountservice.entity.Account(6).token]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedAt]
 |  +-BasicFetch [com.fsocial.accountservice.entity.Account(6).updatedBy]
 |  \-BasicFetch [com.fsocial.accountservice.entity.Account(6).username]

2025-08-15 00:19:05.348 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.ast.tree - SQL AST Tree:
    SelectStatement {
      FromClause {
        StandardTableGroup (a1 : com.fsocial.accountservice.entity.Account(6)) {
          primaryTableReference : account as a1_0
          TableGroupJoins {
            left  join LazyTableGroup (r1 : com.fsocial.accountservice.entity.Account(6).role) {
            }
            left  join LazyTableGroup (t1 : com.fsocial.accountservice.entity.Account(6).token) {
            }
          }
        }
      }
    }

2025-08-15 00:19:05.348 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.sql.exec - Skipping reading Query result cache data: cache-enabled = false, cache-mode = NORMAL
2025-08-15 00:19:05.348 [http-nio-8081-exec-4] DEBUG org.hibernate.SQL - 
    select
        a1_0.id,
        a1_0.created_at,
        a1_0.created_by,
        a1_0.email,
        a1_0.iskol,
        a1_0.password,
        a1_0.role,
        a1_0.status,
        a1_0.token,
        a1_0.updated_at,
        a1_0.updated_by,
        a1_0.username 
    from
        account a1_0 
    where
        a1_0.username=?
2025-08-15 00:19:05.350 [http-nio-8081-exec-4] DEBUG org.hibernate.orm.results - Initializer list:
	  com.fsocial.accountservice.entity.Account(6).role -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).role)@1597398332 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.role])@1122487932)
	  com.fsocial.accountservice.entity.Account(6).token -> EntityDelayedFetchInitializer(com.fsocial.accountservice.entity.Account(6).token)@1370083380 (ToOneAttributeMapping(NavigableRole[com.fsocial.accountservice.entity.Account.token])@1779574434)
	  com.fsocial.accountservice.entity.Account(6) -> EntityJoinedFetchInitializer(com.fsocial.accountservice.entity.Account(6))@1258900231 (SingleTableEntityPersister(com.fsocial.accountservice.entity.Account))

2025-08-15 00:19:05.351 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json]
2025-08-15 00:19:05.351 [http-nio-8081-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:19:05.351294900, da (truncated)...]
2025-08-15 00:19:05.352 [http-nio-8081-exec-4] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:19:05.352 [http-nio-8081-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:19:05.352 [http-nio-8081-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:19:05.367 [http-nio-8081-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:19:05.367 [http-nio-8081-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:19:05.367 [http-nio-8081-exec-5] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:19:05.367 [http-nio-8081-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:19:05.367 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:19:05.367 [http-nio-8081-exec-5] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:19:05.368 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:19:05.369 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:19:05.369 [http-nio-8081-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:19:05.369578400, da (truncated)...]
2025-08-15 00:19:05.370 [http-nio-8081-exec-5] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:19:05.370 [http-nio-8081-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:19:05.371 [http-nio-8081-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:19:07.138 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:19:07.138 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:19:27.955 [http-nio-8081-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /introspect
2025-08-15 00:19:27.955 [http-nio-8081-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /introspect
2025-08-15 00:19:27.955 [http-nio-8081-exec-6] INFO  c.f.accountservice.config.AppConfig - Request URI: /account/introspect
2025-08-15 00:19:27.956 [http-nio-8081-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/account/introspect", parameters={}
2025-08-15 00:19:27.957 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.fsocial.accountservice.controller.AuthenticateController#introspect(TokenRequest)
2025-08-15 00:19:27.957 [http-nio-8081-exec-6] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:19:27.958 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TokenRequest(token=eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJGU09DSUFMIC0gRkNPREVSIiwic3ViIjoiOTViZGI0YTktOGU1 (truncated)...]
2025-08-15 00:19:27.962 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-15 00:19:27.963 [http-nio-8081-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse(statusCode=200, message=Thao tác thành công., dateTime=2025-08-15T00:19:27.962736800, da (truncated)...]
2025-08-15 00:19:27.963 [http-nio-8081-exec-6] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-08-15 00:19:27.964 [http-nio-8081-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-15 00:19:27.964 [http-nio-8081-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-15 00:19:37.148 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:19:37.148 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:20:07.157 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:07.157 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:20:21.986 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@74ba0fcb: (connection has passed maxLifetime)
2025-08-15 00:20:22.034 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b83b22d
2025-08-15 00:20:22.076 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:22.867 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@7621529a: (connection has passed maxLifetime)
2025-08-15 00:20:22.879 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1abeb816
2025-08-15 00:20:22.913 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:27.092 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@1057312b: (connection has passed maxLifetime)
2025-08-15 00:20:27.100 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2bee630a
2025-08-15 00:20:27.137 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:27.340 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@60f2703a: (connection has passed maxLifetime)
2025-08-15 00:20:27.348 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7a914759
2025-08-15 00:20:27.385 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:33.987 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@11145a9e: (connection has passed maxLifetime)
2025-08-15 00:20:33.996 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2294d9f4
2025-08-15 00:20:34.034 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:35.729 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@155aa36d: (connection has passed maxLifetime)
2025-08-15 00:20:35.736 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@63a9d3cf
2025-08-15 00:20:35.775 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:37.128 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@75755c22: (connection has passed maxLifetime)
2025-08-15 00:20:37.136 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5200f6a0
2025-08-15 00:20:37.159 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:37.159 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:20:37.175 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:38.833 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@444a2b14: (connection has passed maxLifetime)
2025-08-15 00:20:38.844 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3862c80
2025-08-15 00:20:38.879 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:39.080 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@34485619: (connection has passed maxLifetime)
2025-08-15 00:20:39.087 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e663cde
2025-08-15 00:20:39.127 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:20:46.715 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@38f3b508: (connection has passed maxLifetime)
2025-08-15 00:20:46.725 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47e576a2
2025-08-15 00:20:46.761 [HikariPool-1 connection adder] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Connection not added, stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:21:07.165 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:21:07.165 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:21:37.167 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:21:37.167 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:22:07.169 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:22:07.169 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:22:37.177 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Pool stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:22:37.177 [HikariPool-1 housekeeper] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled.
2025-08-15 00:23:04.617 [SpringApplicationShutdownHook] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2025-08-15 00:23:04.619 [SpringApplicationShutdownHook] DEBUG o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@234b3b8e, started on Thu Aug 14 23:51:03 ICT 2025
2025-08-15 00:23:04.625 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
2025-08-15 00:23:04.628 [SpringApplicationShutdownHook] DEBUG o.s.d.r.l.RedisMessageListenerContainer - Stopped RedisMessageListenerContainer
2025-08-15 00:23:04.629 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'redisKeyValueAdapter' completed its stop procedure
2025-08-15 00:23:04.629 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483547
2025-08-15 00:23:04.629 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'org.springframework.kafka.config.internalKafkaListenerEndpointRegistry' completed its stop procedure
2025-08-15 00:23:04.629 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147482623
2025-08-15 00:23:04.633 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-15 00:23:04.652 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-15 00:23:04.653 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147481599
2025-08-15 00:23:04.653 [tomcat-shutdown] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'webServerGracefulShutdown' completed its stop procedure
2025-08-15 00:23:04.656 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'webServerStartStop' completed its stop procedure
2025-08-15 00:23:04.656 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 1073741823
2025-08-15 00:23:04.656 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'applicationTaskExecutor' completed its stop procedure
2025-08-15 00:23:04.656 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
2025-08-15 00:23:04.658 [SpringApplicationShutdownHook] DEBUG io.lettuce.core.RedisChannelHandler - closeAsync()
2025-08-15 00:23:04.658 [SpringApplicationShutdownHook] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] closeAsync()
2025-08-15 00:23:04.668 [SpringApplicationShutdownHook] DEBUG io.lettuce.core.AbstractRedisClient - Initiate shutdown (0, 200, MILLISECONDS)
2025-08-15 00:23:04.676 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] channelInactive()
2025-08-15 00:23:04.678 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.DefaultEndpoint - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1] deactivating endpoint handler
2025-08-15 00:23:04.678 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] channelInactive() done
2025-08-15 00:23:04.680 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.ConnectionWatchdog - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, last known addr=localhost/127.0.0.1:6379] channelInactive()
2025-08-15 00:23:04.680 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.ConnectionWatchdog - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, last known addr=localhost/127.0.0.1:6379] Reconnect scheduling disabled
2025-08-15 00:23:04.680 [lettuce-nioEventLoop-4-1] DEBUG i.l.core.protocol.CommandHandler - [channel=0xce53c0ef, /127.0.0.1:56258 -> localhost/127.0.0.1:6379, epid=0x1, chid=0x1] channelUnregistered()
2025-08-15 00:23:04.683 [SpringApplicationShutdownHook] DEBUG i.l.c.r.DefaultEventLoopGroupProvider - Release executor io.netty.channel.nio.NioEventLoopGroup@2cc4ceec
2025-08-15 00:23:04.684 [lettuce-nioEventLoop-4-1] DEBUG io.netty.buffer.PoolThreadCache - Freed 7 thread-local buffer(s) from thread: lettuce-nioEventLoop-4-1
2025-08-15 00:23:04.695 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'redisConnectionFactory' completed its stop procedure
2025-08-15 00:23:04.695 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Successfully stopped bean 'refreshScopeLifecycle'
2025-08-15 00:23:04.695 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147483647
2025-08-15 00:23:04.696 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'springBootLoggingLifecycle' completed its stop procedure
2025-08-15 00:23:04.696 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase -2147483648
2025-08-15 00:23:04.697 [SpringApplicationShutdownHook] DEBUG o.s.c.s.DefaultLifecycleProcessor - Bean 'kafkaProducerFactory' completed its stop procedure
2025-08-15 00:23:04.699 [SpringApplicationShutdownHook] DEBUG o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2025-08-15 00:23:04.705 [SpringApplicationShutdownHook] DEBUG i.l.c.r.DefaultClientResources - Initiate shutdown (0, 2, SECONDS)
2025-08-15 00:23:04.714 [SpringApplicationShutdownHook] DEBUG i.l.c.r.DefaultEventLoopGroupProvider - Initiate shutdown (0, 2, SECONDS)
2025-08-15 00:23:04.722 [SpringApplicationShutdownHook] DEBUG o.s.b.f.s.DisposableBeanAdapter - Custom destroy method 'shutdown' on bean with name 'lettuceClientResources' completed asynchronously
2025-08-15 00:23:04.723 [SpringApplicationShutdownHook] DEBUG o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans on shutdown
2025-08-15 00:23:04.724 [SpringApplicationShutdownHook] DEBUG o.s.j.e.a.AnnotationMBeanExporter - Unregistering JMX-exposed beans
2025-08-15 00:23:04.725 [SpringApplicationShutdownHook] DEBUG o.s.c.a.AnnotationConfigApplicationContext - Closing FeignClientFactory-profile-service, started on Thu Aug 14 23:51:10 ICT 2025, parent: org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@234b3b8e
2025-08-15 00:23:04.727 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-15 00:23:04.728 [SpringApplicationShutdownHook] DEBUG o.h.internal.SessionFactoryImpl - HHH000031: Closing
2025-08-15 00:23:04.729 [SpringApplicationShutdownHook] DEBUG o.h.type.spi.TypeConfiguration$Scope - Un-scoping TypeConfiguration [org.hibernate.type.spi.TypeConfiguration$Scope@6aa45d87] from SessionFactory [org.hibernate.internal.SessionFactoryImpl@79ac7318]
2025-08-15 00:23:04.731 [SpringApplicationShutdownHook] DEBUG o.h.s.i.AbstractServiceRegistryImpl - Implicitly destroying ServiceRegistry on de-registration of all child ServiceRegistries
2025-08-15 00:23:04.732 [SpringApplicationShutdownHook] DEBUG o.h.b.r.i.BootstrapServiceRegistryImpl - Implicitly destroying Boot-strap registry on de-registration of all child ServiceRegistries
2025-08-15 00:23:04.738 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-15 00:23:04.738 [SpringApplicationShutdownHook] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Before shutdown stats (total=10, active=0, idle=10, waiting=0)
2025-08-15 00:23:04.739 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@5b83b22d: (connection evicted)
2025-08-15 00:23:04.739 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@1abeb816: (connection evicted)
2025-08-15 00:23:04.740 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@2bee630a: (connection evicted)
2025-08-15 00:23:04.740 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@7a914759: (connection evicted)
2025-08-15 00:23:04.740 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@2294d9f4: (connection evicted)
2025-08-15 00:23:04.741 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@63a9d3cf: (connection evicted)
2025-08-15 00:23:04.741 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@5200f6a0: (connection evicted)
2025-08-15 00:23:04.741 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@3862c80: (connection evicted)
2025-08-15 00:23:04.741 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@7e663cde: (connection evicted)
2025-08-15 00:23:04.742 [HikariPool-1 connection closer] DEBUG com.zaxxer.hikari.pool.PoolBase - HikariPool-1 - Closing connection com.mysql.cj.jdbc.ConnectionImpl@47e576a2: (connection evicted)
2025-08-15 00:23:04.742 [SpringApplicationShutdownHook] DEBUG com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - After shutdown stats (total=0, active=0, idle=0, waiting=0)
2025-08-15 00:23:04.742 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
