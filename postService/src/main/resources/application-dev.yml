app:
  services:
    profile: ${PROFILE_SERVICE_URL:http://localhost:8085}/profile
    account: ${ACCOUNT_SERVICE_URL:http://localhost:8081}/account
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    enabled: true
  version: 1.0.0
  default-consumes-media-type: application/json
  default-produces-media-type: application/json
openapi:
  service:
    api-docs: post-service
    server: http://localhost:8083
    serverName: Post service
    title: Post Service API
    version: 1.0.0
    description: API for managing posts
spring:
  application:
    name: post_service
  data:
    mongodb:
       uri:  ${MONGODB_POST_URL:mongodb://admin:adminpassword@localhost:27017/post_db?authSource=admin}
    redis:
      host: ${REDIS_CONTAINER:localhost}  # Vì Redis chạy trên localhost
      port: ${REDIS_PORT:6379}  # Port từ docker-compose (REDIS_PORT từ .env)
      password: ${REDIS_PASSWORD:redispassword}
      database: 0
      timeout: 2000ms
      connect-timeout: 2000ms
      # Cấu hình connection pool cho Spring Data Redis
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0
          max-wait: 500ms
        shutdown-timeout: 200ms
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 100MB
      enabled: true
  kafka:
    bootstrap-servers: localhost:9094
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer

server:
  servlet:
    context-path: /post
    session:
      timeout: 3m
  port: 8083

logging:
  level:
    org.springframework: DEBUG
    org.springframework.security: DEBUG
    org.springframework.security.web.access.ExceptionTranslationFilter: DEBUG
    org.springframework.security.access.intercept.AbstractSecurityInterceptor: DEBUG
    org.hibernate: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
    org.hibernate.engine.transaction.internal.TransactionImpl: DEBUG
    org.hibernate.event.internal.AbstractFlushingEventListener: DEBUG